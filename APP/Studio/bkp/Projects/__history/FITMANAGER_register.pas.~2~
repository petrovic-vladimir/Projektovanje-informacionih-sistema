unit FITMANAGER_register;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.Objects,
  FMX.Controls.Presentation, FMX.StdCtrls, FMX.DialogService, FMX.Edit;

type
  TFrmRegister = class(TForm)
    register_template: TImage;
    Button1: TButton;
    Username_input: TEdit;
    Name_input: TEdit;
    Lname_input: TEdit;
    JMBG_input: TEdit;
    Email_input: TEdit;
    Password_input: TEdit;
    RepeatPass_input: TEdit;
    Edit1: TEdit;
    Button2: TButton;
    procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
    procedure Button2Click(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmRegister: TFrmRegister;

implementation

{$R *.fmx}


uses
FITMANAGER_login;

procedure TFrmRegister.Button2Click(Sender: TObject);
begin
  OnCloseQuery := nil;
  FrmLogin.Show;
  Self.Close;
end;

procedure TFrmRegister.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Action := TCloseAction.caFree;
  frmRegister := nil;
end;

procedure TFrmRegister.FormCloseQuery(Sender: TObject; var CanClose: Boolean);
begin
  CanClose := False; // uvek blokiraj zatvaranje na X

  TDialogService.MessageDialog(
    'Da li ste sigurni da želite da napustite aplikaciju?',
    TMsgDlgType.mtConfirmation,
    [TMsgDlgBtn.mbYes, TMsgDlgBtn.mbNo],
    TMsgDlgBtn.mbNo,
    0,
    procedure(const AResult: TModalResult)
    begin
      if AResult = mrYes then
        Application.Terminate; // ugasi celu aplikaciju

    end
  );
end;

end.
